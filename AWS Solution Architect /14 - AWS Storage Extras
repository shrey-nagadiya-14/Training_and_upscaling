================================================================================
                    AWS STORAGE EXTRAS - COMPLETE GUIDE
                        Slide-wise Explanations
================================================================================

================================================================================
SLIDE 1: AWS STORAGE EXTRAS - TITLE
================================================================================

Overview:
---------
This section covers advanced AWS storage services and solutions that extend 
beyond the basic S3, EBS, and EFS services. These "extras" are crucial for:
- Large-scale data migrations
- Hybrid cloud architectures
- High-performance computing workloads
- Specialized file system requirements
- On-premises to cloud connectivity

Topics Covered:
- AWS Snowball (Snow Family)
- Amazon FSx (Multiple Variants)
- AWS Storage Gateway
- AWS Transfer Family
- AWS DataSync
- Storage Comparison

================================================================================
SLIDE 2: AWS SNOWBALL
================================================================================

What is AWS Snowball?
---------------------
• Highly-secure, portable devices to COLLECT and PROCESS data at the edge
• Designed to MIGRATE data into and out of AWS
• Helps migrate up to PETABYTES of data

Snowball Edge Device Types:
---------------------------
┌─────────────────────────────────┬──────────┬──────────┬───────────────┐
│ Device                          │ Compute  │ Memory   │ Storage (SSD) │
├─────────────────────────────────┼──────────┼──────────┼───────────────┤
│ Snowball Edge Storage Optimized │ 104 vCPUs│ 416 GB   │ 210 TB        │
├─────────────────────────────────┼──────────┼──────────┼───────────────┤
│ Snowball Edge Compute Optimized │ 104 vCPUs│ 416 GB   │ 28 TB         │
└─────────────────────────────────┴──────────┴──────────┴───────────────┘

Key Characteristics:
• Physical device shipped to your location
• Tamper-resistant, secure enclosure
• 256-bit encryption
• Rugged design for harsh environments
• Can run EC2 instances and Lambda functions locally

Use Cases:
1. Large-scale data migrations to AWS
2. Disaster recovery
3. Data center decommissioning
4. Content distribution
5. Temporary storage for remote locations

================================================================================
SLIDE 3: DATA MIGRATIONS WITH SNOWBALL
================================================================================

The Challenge: Network Transfer Times
-------------------------------------
┌────────┬───────────────────────────────────────────┐
│        │         Time to Transfer                  │
│ Data   ├───────────┬───────────┬──────────────────┤
│ Size   │ 100 Mbps  │ 1 Gbps    │ 10 Gbps          │
├────────┼───────────┼───────────┼──────────────────┤
│ 10 TB  │ 12 days   │ 30 hours  │ 3 hours          │
├────────┼───────────┼───────────┼──────────────────┤
│ 100 TB │ 124 days  │ 12 days   │ 30 hours         │
├────────┼───────────┼───────────┼──────────────────┤
│ 1 PB   │ 3 years   │ 124 days  │ 12 days          │
└────────┴───────────┴───────────┴──────────────────┘

Network Transfer Challenges:
---------------------------
• Limited connectivity - Not all locations have high-speed internet
• Limited bandwidth - Existing bandwidth may be insufficient
• High network cost - Data transfer fees can be expensive
• Shared bandwidth - Can't maximize the line (other users/services)
• Connection stability - Long transfers prone to interruption

Golden Rule:
============
┌─────────────────────────────────────────────────────────────────────┐
│ AWS Snowball: Offline devices to perform data migrations           │
│ If it takes more than a WEEK to transfer over the network,         │
│ use Snowball devices!                                               │
└─────────────────────────────────────────────────────────────────────┘

================================================================================
SLIDE 4: DIAGRAMS - DIRECT UPLOAD VS SNOWBALL
================================================================================

Method 1: Direct Upload to S3
-----------------------------
┌──────────┐         www: 10Gbit/s         ┌──────────────┐
│  Client  │ ──────────────────────────────│ Amazon S3    │
│          │                               │ Bucket       │
└──────────┘                               └──────────────┘

Characteristics:
• Direct network transfer over internet
• Suitable for smaller data volumes
• Depends on network speed and stability
• Real-time transfer possible

Method 2: With Snowball
-----------------------
┌──────────┐    ┌───────────┐        ┌───────────┐    ┌────────────┐    ┌──────────────┐
│  Client  │───▶│   AWS     │──ship─▶│   AWS     │───▶│  import/   │───▶│ Amazon S3    │
│          │    │ Snowball  │        │ Snowball  │    │  export    │    │ Bucket       │
└──────────┘    └───────────┘        └───────────┘    └────────────┘    └──────────────┘
                    (at your              (at AWS
                    location)             facility)

Process Flow:
1. Order Snowball device from AWS Console
2. AWS ships the device to your location
3. Connect device to your network
4. Load data onto the Snowball
5. Ship the device back to AWS
6. AWS imports data into your S3 bucket
7. Device is wiped clean (NIST 800-88)

================================================================================
SLIDE 5: WHAT IS EDGE COMPUTING?
================================================================================

Definition:
-----------
• Process data WHILE it's being created on an EDGE LOCATION
• Edge locations include:
  - A truck on the road
  - A ship on the sea
  - A mining station underground
  - Remote oil/gas drilling sites
  - Agricultural locations

Why Edge Computing?
-------------------
• These locations may have LIMITED INTERNET and NO ACCESS to computing power
• Need to process data locally before sending to cloud
• Reduce latency for time-sensitive operations
• Continue operations even without connectivity

Snowball Edge for Edge Computing:
---------------------------------
We setup a SNOWBALL EDGE device to do edge computing:

Device Options:
• Snowball Edge Compute Optimized - Dedicated for compute use cases
• Snowball Edge Storage Optimized - For high storage capacity needs

Capabilities:
• Run EC2 Instances at the edge
• Run Lambda functions at the edge
• Execute containerized workloads

Use Cases:
1. PREPROCESS DATA - Clean and filter data before sending to cloud
2. MACHINE LEARNING - Run ML inference at the edge
3. TRANSCODING MEDIA - Convert video/audio formats locally

================================================================================
SLIDE 6: SOLUTION ARCHITECTURE - SNOWBALL INTO GLACIER
================================================================================

The Challenge:
--------------
• Snowball CANNOT import to Glacier directly
• Glacier is designed for archival, not direct data ingestion

Solution: Two-Step Process
--------------------------
┌───────────┐        import        ┌───────────┐    S3 lifecycle    ┌─────────────┐
│ Snowball  │ ────────────────────▶│ Amazon S3 │ ─────────policy────▶│ Amazon      │
│           │                      │           │                     │ Glacier     │
└───────────┘                      └───────────┘                     └─────────────┘

Step-by-Step Process:
1. Load data onto Snowball device
2. Ship Snowball to AWS
3. AWS imports data into Amazon S3 (Standard class)
4. Configure S3 Lifecycle Policy to transition objects to Glacier
5. Objects automatically move to Glacier based on the policy

Lifecycle Policy Example:
• Transition to Glacier after 0 days (immediate)
• Transition to Glacier after 30 days
• Transition to Glacier Deep Archive after 90 days

Key Point:
You MUST use Amazon S3 first, in combination with an S3 Lifecycle Policy
to move data to Glacier from Snowball.

================================================================================
SLIDE 7: AMAZON FSx - OVERVIEW
================================================================================

What is Amazon FSx?
-------------------
• Launch 3rd party HIGH-PERFORMANCE file systems on AWS
• FULLY MANAGED service
• AWS handles hardware provisioning, patching, backups, etc.

FSx File System Options:
------------------------
┌─────────────────────────────────────────────────────────────────────┐
│                                                                     │
│  ┌─────────────┐                    ┌─────────────────────────┐    │
│  │ FSx for     │                    │ FSx for                 │    │
│  │ Lustre      │                    │ NetApp ONTAP            │    │
│  └─────────────┘                    └─────────────────────────┘    │
│                                                                     │
│  ┌─────────────────────┐            ┌─────────────────────────┐    │
│  │ FSx for Windows     │            │ FSx for                 │    │
│  │ File Server         │            │ OpenZFS                 │    │
│  └─────────────────────┘            └─────────────────────────┘    │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘

Summary Table:
┌─────────────────────┬───────────────────────────────────────────────┐
│ FSx Variant         │ Primary Use Case                              │
├─────────────────────┼───────────────────────────────────────────────┤
│ FSx for Lustre      │ High Performance Computing, ML, Video         │
├─────────────────────┼───────────────────────────────────────────────┤
│ FSx for Windows     │ Windows file shares, SMB protocol             │
├─────────────────────┼───────────────────────────────────────────────┤
│ FSx for NetApp ONTAP│ Enterprise workloads, NFS/SMB/iSCSI           │
├─────────────────────┼───────────────────────────────────────────────┤
│ FSx for OpenZFS     │ ZFS workloads migration to AWS                │
└─────────────────────┴───────────────────────────────────────────────┘

================================================================================
SLIDE 8: AMAZON FSx FOR WINDOWS (FILE SERVER)
================================================================================

What is FSx for Windows?
------------------------
• FSx for Windows is a FULLY MANAGED Windows file system share drive
• Supports SMB protocol & Windows NTFS
• Microsoft Active Directory integration, ACLs, user quotas
• Can be mounted on Linux EC2 instances (via SMB)

Key Features:
-------------
• Supports Microsoft's Distributed File System (DFS) Namespaces
  - Group files across multiple file systems
  - Single namespace for distributed files

Performance:
------------
• Scale up to 10s of GB/s throughput
• Millions of IOPS
• 100s PB of data capacity

Storage Options:
----------------
┌─────────────────────────────────────────────────────────────────────┐
│ SSD - Latency sensitive workloads                                   │
│       (databases, media processing, data analytics, ...)           │
├─────────────────────────────────────────────────────────────────────┤
│ HDD - Broad spectrum of workloads                                   │
│       (home directory, CMS, ...)                                    │
└─────────────────────────────────────────────────────────────────────┘

Connectivity & Availability:
----------------------------
• Can be accessed from on-premises infrastructure (VPN or Direct Connect)
• Can be configured to be Multi-AZ (high availability)
• Data is backed-up daily to S3

================================================================================
SLIDE 9: AMAZON FSx FOR LUSTRE
================================================================================

What is Lustre?
---------------
• Lustre is a type of PARALLEL DISTRIBUTED file system
• Designed for LARGE-SCALE computing
• The name "Lustre" is derived from "Linux" and "cluster"

Use Cases:
----------
• Machine Learning
• High Performance Computing (HPC)
• Video Processing
• Financial Modeling
• Electronic Design Automation

Performance:
------------
• Scales up to 100s GB/s throughput
• Millions of IOPS
• Sub-millisecond latencies

Storage Options:
----------------
┌─────────────────────────────────────────────────────────────────────┐
│ SSD - Low-latency, IOPS intensive workloads                        │
│       Small & random file operations                                │
├─────────────────────────────────────────────────────────────────────┤
│ HDD - Throughput-intensive workloads                                │
│       Large & sequential file operations                            │
└─────────────────────────────────────────────────────────────────────┘

S3 Integration:
---------------
• SEAMLESS integration with S3
• Can "read S3" as a file system (through FSx)
• Can write the output of computations back to S3 (through FSx)

Connectivity:
• Can be used from on-premises servers (VPN or Direct Connect)

================================================================================
SLIDE 10: FSx LUSTRE - FILE SYSTEM DEPLOYMENT OPTIONS
================================================================================

Option 1: Scratch File System
-----------------------------
┌─────────────────────────────────────────────────────────────────────┐
│ SCRATCH FILE SYSTEM                                                 │
├─────────────────────────────────────────────────────────────────────┤
│ • Temporary storage                                                 │
│ • Data is NOT replicated (doesn't persist if file server fails)   │
│ • High burst (6x faster, 200MBps per TiB)                          │
│ • Usage: short-term processing, optimize costs                      │
└─────────────────────────────────────────────────────────────────────┘

Architecture:
┌──────────────────────────────────────────────────────────────────────┐
│                            Region                                    │
│  ┌─────────────────────┐              ┌──────────────────────────┐  │
│  │ Availability Zone 1 │              │ Availability Zone 2      │  │
│  │  ┌─────────────┐   │              │  ┌─────────────┐         │  │
│  │  │ Compute     │───ENI───┐        │  │ Compute     │         │  │
│  │  │ instances   │   │     │        │  │ instances   │         │  │
│  │  └─────────────┘   │     │        │  └─────────────┘         │  │
│  │                    │     │        │                           │  │
│  │  ┌─────────────────┴─────┴────┐   │                           │  │
│  │  │ FSx For Lustre             │   │    ┌─────────────┐        │  │
│  │  │ (Scratch file system)      │───────▶│ S3 bucket   │        │  │
│  │  └────────────────────────────┘   │    │ (optional)  │        │  │
│  └─────────────────────┘              └──────────────────────────┘  │
└──────────────────────────────────────────────────────────────────────┘

Option 2: Persistent File System
--------------------------------
┌─────────────────────────────────────────────────────────────────────┐
│ PERSISTENT FILE SYSTEM                                              │
├─────────────────────────────────────────────────────────────────────┤
│ • Long-term storage                                                 │
│ • Data is replicated within same AZ                                │
│ • Replace failed files within minutes                              │
│ • Usage: long-term processing, sensitive data                       │
└─────────────────────────────────────────────────────────────────────┘

Architecture:
• FSx Lustre (Persistent) in AZ1
• Compute instances can access from both AZs via ENI
• Optional S3 bucket integration for data repository

Comparison:
┌────────────────────┬────────────────────┬────────────────────────────┐
│ Feature            │ Scratch            │ Persistent                 │
├────────────────────┼────────────────────┼────────────────────────────┤
│ Data Durability    │ No replication     │ Replicated within AZ       │
├────────────────────┼────────────────────┼────────────────────────────┤
│ Performance        │ 6x faster burst    │ Standard performance       │
├────────────────────┼────────────────────┼────────────────────────────┤
│ Cost               │ Lower              │ Higher                     │
├────────────────────┼────────────────────┼────────────────────────────┤
│ Use Case           │ Temporary compute  │ Long-term storage          │
└────────────────────┴────────────────────┴────────────────────────────┘

================================================================================
SLIDE 11: AMAZON FSx FOR NETAPP ONTAP
================================================================================

What is FSx for NetApp ONTAP?
-----------------------------
• Managed NetApp ONTAP on AWS
• File System compatible with NFS, SMB, iSCSI protocol
• Move workloads running on ONTAP or NAS to AWS

Compatible Platforms:
--------------------
Works with:
• Linux
• Windows
• MacOS
• VMware Cloud on AWS
• Amazon Workspaces & AppStream 2.0
• Amazon EC2, ECS and EKS

Architecture:
┌─────────────────────────────────────────────────────────────────────┐
│                                                                     │
│  ┌─────────────────────┐       NFS, SMB, iSCSI                     │
│  │ Amazon FSx for      │◀────────────────────────┐                 │
│  │ NetApp ONTAP FS     │                         │                 │
│  └─────────────────────┘                         │                 │
│                                                   │                 │
│  ┌────────────────────────────────────────────────┴──────────────┐ │
│  │ Compatible Clients:                                            │ │
│  │ ┌─────┐ ┌─────┐ ┌─────┐ ┌──────────┐ ┌──────────┐ ┌─────────┐│ │
│  │ │ EC2 │ │ ECS │ │ EKS │ │ VMware   │ │AppStream │ │Workspaces││ │
│  │ └─────┘ └─────┘ └─────┘ │ Cloud    │ │ 2.0      │ │         ││ │
│  │                         └──────────┘ └──────────┘ └─────────┘│ │
│  │ ┌──────────┐ ┌──────────┐ ┌────────────────────────────────┐ │ │
│  │ │ Linux    │ │ Windows  │ │ macOS   │ On-premises Server   │ │ │
│  │ └──────────┘ └──────────┘ └────────────────────────────────┘ │ │
│  └───────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────────┘

Key Features:
-------------
• Storage shrinks or grows AUTOMATICALLY
• Snapshots, replication, low-cost, compression and data de-duplication
• Point-in-time instantaneous cloning (helpful for testing new workloads)

Benefits:
• Enterprise-grade features
• Seamless migration from on-premises ONTAP
• Multi-protocol support

================================================================================
SLIDE 12: AMAZON FSx FOR OPENZFS
================================================================================

What is FSx for OpenZFS?
------------------------
• Managed OpenZFS file system on AWS
• File System compatible with NFS (v3, v4, v4.1, v4.2)
• Move workloads running on ZFS to AWS

Compatible Platforms:
--------------------
Works with:
• Linux
• Windows
• MacOS
• VMware Cloud on AWS
• Amazon Workspaces & AppStream 2.0
• Amazon EC2, ECS and EKS

Architecture:
┌─────────────────────────────────────────────────────────────────────┐
│                                                                     │
│  ┌─────────────────────┐       NFS (v3, v4, v4.1, v4.2)            │
│  │ Amazon FSx for      │◀────────────────────────┐                 │
│  │ OpenZFS             │                         │                 │
│  └─────────────────────┘                         │                 │
│                                                   │                 │
│  ┌────────────────────────────────────────────────┴──────────────┐ │
│  │ Compatible Clients:                                            │ │
│  │ ┌─────┐ ┌─────┐ ┌─────┐ ┌──────────┐ ┌──────────┐ ┌─────────┐│ │
│  │ │ EC2 │ │ ECS │ │ EKS │ │ VMware   │ │AppStream │ │Workspaces││ │
│  │ └─────┘ └─────┘ └─────┘ │ Cloud    │ │ 2.0      │ │         ││ │
│  │                         └──────────┘ └──────────┘ └─────────┘│ │
│  │ ┌──────────┐ ┌──────────┐ ┌────────────────────────────────┐ │ │
│  │ │ Linux    │ │ Windows  │ │ macOS   │ On-premises Server   │ │ │
│  │ └──────────┘ └──────────┘ └────────────────────────────────┘ │ │
│  └───────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────────┘

Performance:
------------
• Up to 1,000,000 IOPS with < 0.5ms latency

Key Features:
-------------
• Snapshots, compression and low-cost
• Point-in-time instantaneous cloning (helpful for testing new workloads)

Use Cases:
• Migrating existing ZFS workloads to cloud
• High-performance file storage
• Development and testing environments

================================================================================
SLIDE 13: HYBRID CLOUD FOR STORAGE
================================================================================

What is Hybrid Cloud?
---------------------
AWS is pushing for "hybrid cloud":
• Part of your infrastructure is on the CLOUD
• Part of your infrastructure is ON-PREMISES

Why Hybrid Cloud?
-----------------
This can be due to:
• Long cloud migrations - Gradual move to cloud over time
• Security requirements - Some data must stay on-premises
• Compliance requirements - Regulatory data residency rules
• IT strategy - Intentional hybrid architecture

The Challenge:
--------------
• S3 is a PROPRIETARY storage technology (unlike EFS / NFS)
• So how do you expose the S3 data on-premises?

The Solution:
┌─────────────────────────────────────────────────────────────────────┐
│                    AWS STORAGE GATEWAY!                             │
│                                                                     │
│  Bridge between on-premises storage and AWS cloud storage           │
└─────────────────────────────────────────────────────────────────────┘

================================================================================
SLIDE 14: AWS STORAGE CLOUD NATIVE OPTIONS
================================================================================

AWS Storage Types:
------------------
┌─────────────────────────────────────────────────────────────────────┐
│                                                                     │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────────┐ │
│  │     BLOCK       │  │      FILE       │  │       OBJECT        │ │
│  ├─────────────────┤  ├─────────────────┤  ├─────────────────────┤ │
│  │                 │  │                 │  │                     │ │
│  │  Amazon EBS     │  │  Amazon EFS     │  │    Amazon S3        │ │
│  │                 │  │                 │  │                     │ │
│  │  EC2 Instance   │  │  Amazon FSx     │  │    Amazon Glacier   │ │
│  │  Store          │  │                 │  │                     │ │
│  │                 │  │                 │  │                     │ │
│  └─────────────────┘  └─────────────────┘  └─────────────────────┘ │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘

Block Storage:
• Amazon EBS - Persistent block storage for EC2
• EC2 Instance Store - Ephemeral, high-performance local storage

File Storage:
• Amazon EFS - Managed NFS for Linux
• Amazon FSx - Managed file systems (Windows, Lustre, NetApp, OpenZFS)

Object Storage:
• Amazon S3 - Scalable object storage
• Amazon Glacier - Long-term archival storage

================================================================================
SLIDE 15: AWS STORAGE GATEWAY
================================================================================

What is AWS Storage Gateway?
----------------------------
• BRIDGE between on-premises data and cloud data
• Provides seamless integration between on-premises and AWS

Architecture:
┌───────────────────┐       ┌─────────────────┐       ┌──────────────┐
│  On-Premises      │◀─────▶│ Storage Gateway │◀─────▶│    AWS       │
│  Data Center      │       │                 │       │    Cloud     │
└───────────────────┘       └─────────────────┘       └──────────────┘

Use Cases:
----------
• Disaster recovery - Replicate on-premises data to cloud
• Backup & restore - Cloud-based backup for on-premises data
• Tiered storage - Move cold data to cloud automatically
• On-premises cache & low-latency files access

Types of Storage Gateway:
-------------------------
┌─────────────────────────────────────────────────────────────────────┐
│ 1. S3 FILE GATEWAY                                                  │
│    - Access S3 via NFS/SMB protocols                                │
├─────────────────────────────────────────────────────────────────────┤
│ 2. VOLUME GATEWAY                                                   │
│    - Block storage backed by S3                                     │
├─────────────────────────────────────────────────────────────────────┤
│ 3. TAPE GATEWAY                                                     │
│    - Virtual tape library backed by S3                              │
└─────────────────────────────────────────────────────────────────────┘

================================================================================
SLIDE 16: AMAZON S3 FILE GATEWAY
================================================================================

How S3 File Gateway Works:
--------------------------
• Configured S3 buckets are accessible using NFS and SMB protocol
• Most recently used data is cached in the file gateway
• Supports S3 Standard, S3 Standard IA, S3 One Zone IA, S3 Intelligent Tiering
• Transition to S3 Glacier using a Lifecycle Policy
• Bucket access using IAM roles for each File Gateway
• SMB Protocol has integration with Active Directory (AD) for user authentication

Architecture:
┌────────────────────────────────────────────────────────────────────────────────┐
│                                                                                │
│  Corporate Data Center              AWS Cloud                                  │
│  ┌─────────────────┐               ┌──────────────────────────────────────┐   │
│  │ Application     │               │ S3 Standard        Lifecycle         │   │
│  │ Server          │               │ S3 Standard-IA    ─────────▶ S3      │   │
│  │                 │   NFS or SMB  │ S3 One Zone-IA      policy   Glacier │   │
│  │        ─────────┼──────────────▶│ S3 Intelligent-                      │   │
│  │                 │               │   Tiering                            │   │
│  │                 │  ┌─────────┐  │                                      │   │
│  │                 │──│S3 File  │──│──────HTTPS─────────────▶             │   │
│  │                 │  │Gateway  │  │                                      │   │
│  └─────────────────┘  └─────────┘  └──────────────────────────────────────┘   │
│                                                                                │
└────────────────────────────────────────────────────────────────────────────────┘

Key Features:
• NFS or SMB protocol for on-premises applications
• Local cache for frequently accessed files
• HTTPS communication to AWS
• IAM role-based bucket access
• Active Directory integration for SMB

================================================================================
SLIDE 17: VOLUME GATEWAY
================================================================================

What is Volume Gateway?
-----------------------
• Block storage using iSCSI protocol backed by S3
• Backed by EBS snapshots which can help restore on-premises volumes!

Two Modes:
----------
1. CACHED VOLUMES: Low latency access to most recent data
   - Primary data stored in S3
   - Frequently accessed data cached locally

2. STORED VOLUMES: Entire dataset is on premise, scheduled backups to S3
   - Complete data stored locally
   - Asynchronous backup to S3

Architecture:
┌────────────────────────────────────────────────────────────────────────────────┐
│                                                                                │
│  Corporate Data Center                         AWS Cloud                       │
│  ┌─────────────────┐                          ┌────────────────────────────┐  │
│  │                 │                          │         Region             │  │
│  │ Application     │         iSCSI            │  ┌─────────────────────┐   │  │
│  │ Server          │◀───────────────┐         │  │                     │   │  │
│  │                 │                │         │  │    S3 Bucket        │   │  │
│  └─────────────────┘                │         │  │         │           │   │  │
│                                     │         │  │         ▼           │   │  │
│                          ┌──────────┴──────┐  │  │  Amazon EBS         │   │  │
│                          │ Volume Gateway  │──┼──│  Snapshots          │   │  │
│                          │                 │  │  │                     │   │  │
│                          └─────────────────┘  │  └─────────────────────┘   │  │
│                                    HTTPS      │                            │  │
│                                               └────────────────────────────┘  │
└────────────────────────────────────────────────────────────────────────────────┘

Benefits:
• Block-level storage for applications requiring iSCSI
• EBS snapshots enable easy recovery
• Can restore volumes to AWS or on-premises
• Encryption in transit and at rest

================================================================================
SLIDE 18: TAPE GATEWAY
================================================================================

The Challenge:
--------------
• Some companies have backup processes using physical tapes (!)
• Need to modernize without changing existing backup workflows

Solution: Tape Gateway
----------------------
• With Tape Gateway, companies use the same processes but, in the cloud
• Virtual Tape Library (VTL) backed by Amazon S3 and Glacier
• Back up data using existing tape-based processes (and iSCSI interface)
• Works with leading backup software vendors

Architecture:
┌────────────────────────────────────────────────────────────────────────────────┐
│                                                                                │
│  Corporate Data Center                         AWS Cloud                       │
│  ┌─────────────────┐                          ┌────────────────────────────┐  │
│  │                 │                          │         Region             │  │
│  │ Backup Server   │         iSCSI            │                            │  │
│  │      │          │◀───────────────┐         │  ┌─────────────────────┐   │  │
│  │      ▼          │                │         │  │ Virtual Tapes       │   │  │
│  │ ┌──────────┐    │                │         │  │ stored in           │   │  │
│  │ │ Media    │    │                │         │  │ Amazon S3           │   │  │
│  │ │ Changer  │    │     ┌──────────┴──────┐  │  └─────────────────────┘   │  │
│  │ └──────────┘    │     │                 │  │            │               │  │
│  │ ┌──────────┐    │     │  Tape Gateway   │──┼────HTTPS───│               │  │
│  │ │ Tape     │────┼────▶│                 │  │            ▼               │  │
│  │ │ Drive    │    │     └─────────────────┘  │  ┌─────────────────────┐   │  │
│  │ └──────────┘    │                          │  │ Archived Tapes      │   │  │
│  │                 │                          │  │ stored in           │   │  │
│  └─────────────────┘                          │  │ Amazon Glacier      │   │  │
│                                               │  └─────────────────────┘   │  │
│                                               └────────────────────────────┘  │
└────────────────────────────────────────────────────────────────────────────────┘

Compatible Backup Software:
• Veeam, Veritas Backup Exec, Veritas NetBackup
• Commvault, Dell EMC NetWorker
• IBM Spectrum Protect, Microsoft DPM

================================================================================
SLIDE 19: AWS STORAGE GATEWAY - COMPLETE ARCHITECTURE
================================================================================

Comprehensive View:
-------------------
┌────────────────────────────────────────────────────────────────────────────────┐
│                                                                                │
│  ON-PREMISES                                    AWS CLOUD                      │
│                                                                                │
│  ┌──────────────────┐                          ┌──────────────────────────┐   │
│  │ User/group       │     NFS/SMB              │ Amazon S3                │   │
│  │ file shares      │────────────┐             │ excluding Glacier &      │───▶Any S3
│  │                  │            │             │ Glacier Deep Archive     │   Storage
│  └──────────────────┘            │             └──────────────────────────┘   Class
│                         ┌────────▼────────┐                                   │
│                         │ File Gateway    │                                   │
│                         │ (local cache)   │                                   │
│                         └────────┬────────┘                                   │
│                                  │                                            │
│  ┌──────────────────┐            │             ┌──────────────────────────┐   │
│  │ Application      │    iSCSI   │             │ Amazon S3                │   │
│  │ Server           │────────────┤─Encryption──│          │               │───▶AWS EBS
│  │                  │            │ in Transit  │          ▼               │   │
│  └──────────────────┘   ┌────────▼────────┐    │      AWS EBS             │   │
│                         │ Volume Gateway  │    │      Snapshots           │   │
│                         │ (local cache)   │    └──────────────────────────┘   │
│                         └────────┬────────┘                                   │
│                                  │                                            │
│  ┌──────────────────┐            │             ┌──────────────────────────┐   │
│  │ Backup           │  iSCSI VTL │             │ Amazon S3                │   │
│  │ Application      │────────────┤             │ Tape Library             │───▶Tape
│  │                  │            │             │          │               │   Archive
│  └──────────────────┘   ┌────────▼────────┐    │          ▼               │   Glacier
│                         │ Tape Gateway    │────│ Eject from backup app    │   │
│                         │ (local cache)   │    │                          │   │
│                         └─────────────────┘    └──────────────────────────┘   │
│                                                                                │
│  Gateway Deployment Options:                                                   │
│  VM (VMware, Hyper-V, KVM)                                                    │
│                                                                                │
└────────────────────────────────────────────────────────────────────────────────┘

Key Points:
• All gateways maintain local cache for performance
• All communication encrypted in transit (Internet or Direct Connect)
• Each gateway type serves different use cases
• Can be deployed as VM on-premises

================================================================================
SLIDE 20: AWS TRANSFER FAMILY
================================================================================

What is AWS Transfer Family?
----------------------------
• A FULLY-MANAGED service for file transfers into and out of Amazon S3 or 
  Amazon EFS using the FTP protocol

Supported Protocols:
--------------------
┌─────────────────────────────────────────────────────────────────────┐
│ • AWS Transfer for FTP  (File Transfer Protocol - FTP)              │
│ • AWS Transfer for FTPS (File Transfer Protocol over SSL - FTPS)    │
│ • AWS Transfer for SFTP (Secure File Transfer Protocol - SFTP)      │
└─────────────────────────────────────────────────────────────────────┘

Key Features:
-------------
• Managed infrastructure, Scalable, Reliable, Highly Available (multi-AZ)
• Pay per provisioned endpoint per hour + data transfers in GB
• Store and manage users' credentials within the service

Authentication Integration:
---------------------------
• Microsoft Active Directory
• LDAP
• Okta
• Amazon Cognito
• Custom authentication

Usage Examples:
• Sharing files with partners
• Public datasets distribution
• CRM integration
• ERP file transfers

================================================================================
SLIDE 21: AWS TRANSFER FAMILY - ARCHITECTURE
================================================================================

Architecture Diagram:
---------------------
┌────────────────────────────────────────────────────────────────────────────────┐
│                                                                                │
│  ┌─────────────────────┐                                                       │
│  │ MS Active Directory │                                                       │
│  │ LDAP                │                     ┌──────────────────────────────┐  │
│  │ ...                 │────authenticate────▶│ AWS Transfer for SFTP        │  │
│  └─────────────────────┘                     └────────────────┬─────────────┘  │
│                                                               │                │
│                                              ┌────────────────┼─────────────┐  │
│                                              │ AWS Transfer for FTPS        │  │
│                                              └────────────────┬─────────────┘  │
│                                                               │                │
│  ┌─────────────────────┐     ┌───────────┐  ┌────────────────┼─────────────┐  │
│  │ Users               │────▶│ Route 53  │──│ AWS Transfer for FTP         │  │
│  │ (FTP client)        │     │ (optional)│  │ (only within VPC)            │  │
│  └─────────────────────┘     └───────────┘  └────────────────┬─────────────┘  │
│                                                               │                │
│                                              AWS Transfer Family               │
│                                                               │                │
│                                              ┌────────────────▼─────────────┐  │
│                                              │         IAM Role             │  │
│                                              └────────────────┬─────────────┘  │
│                                                               │                │
│                                              ┌────────────────▼─────────────┐  │
│                                              │       Amazon S3              │  │
│                                              ├──────────────────────────────┤  │
│                                              │       Amazon EFS             │  │
│                                              └──────────────────────────────┘  │
│                                                                                │
└────────────────────────────────────────────────────────────────────────────────┘

Key Points:
• SFTP and FTPS can be internet-facing
• FTP is only available within VPC (security)
• Route 53 can provide custom DNS endpoints
• IAM Role controls access to S3/EFS
• External identity providers for authentication

================================================================================
SLIDE 22: AWS DATASYNC
================================================================================

What is AWS DataSync?
---------------------
• Move LARGE AMOUNT of data to and from various sources

Data Transfer Options:
----------------------
1. On-premises / other cloud to AWS (NFS, SMB, HDFS, S3 API...) - NEEDS AGENT
2. AWS to AWS (different storage services) - NO AGENT needed

Synchronization Targets:
------------------------
Can synchronize to:
• Amazon S3 (any storage classes - including Glacier)
• Amazon EFS
• Amazon FSx (Windows, Lustre, NetApp, OpenZFS...)

Key Features:
-------------
• Replication tasks can be scheduled hourly, daily, weekly
• FILE PERMISSIONS and METADATA are preserved (NFS POSIX, SMB...)
• One agent task can use 10 Gbps, can setup a bandwidth limit

Performance:
• Up to 10 Gbps per agent
• Bandwidth throttling available
• Incremental transfers (only changed data)

================================================================================
SLIDE 23: AWS DATASYNC - NFS/SMB TO AWS
================================================================================

Architecture: On-Premises to AWS
--------------------------------
┌────────────────────────────────────────────────────────────────────────────────┐
│                                                                                │
│  ON-PREMISES                                    AWS REGION                     │
│                                                                                │
│  ┌──────────────────┐                          ┌────────────────────────────┐ │
│  │ NFS or SMB       │     NFS or SMB           │   AWS Storage Resources    │ │
│  │ Server           │────────────────┐         │                            │ │
│  │                  │                │         │ ┌─────────┐  ┌───────────┐ │ │
│  └──────────────────┘                │         │ │ S3      │  │S3 Intell- │ │ │
│                          ┌───────────▼───────┐ │ │ Standard│  │Tiering    │ │ │
│                          │ AWS DataSync      │ │ └─────────┘  └───────────┘ │ │
│                          │ Agent             │ │ ┌─────────┐  ┌───────────┐ │ │
│                          └───────────┬───────┘ │ │ S3 One  │  │S3 Glacier │ │ │
│                                      │         │ │ Zone-IA │  │           │ │ │
│  ┌──────────────────┐                │   TLS   │ └─────────┘  └───────────┘ │ │
│  │ AWS Snowcone     │────────────────┤         │ ┌─────────┐  ┌───────────┐ │ │
│  │ (agent pre-      │                │────────▶│ │S3       │  │S3 Glacier │ │ │
│  │  installed)      │                │         │ │Standard │  │Deep       │ │ │
│  └──────────────────┘          ┌─────▼──────┐  │ │IA       │  │Archive    │ │ │
│                                │AWS DataSync│  │ └─────────┘  └───────────┘ │ │
│                                │            │  │                            │ │
│                                └────────────┘  │ ┌─────────────┐            │ │
│                                      │         │ │ AWS EFS     │            │ │
│                                      │         │ └─────────────┘            │ │
│                                      │         │ ┌─────────────┐            │ │
│                                      └────────▶│ │ Amazon FSx  │            │ │
│                                                │ └─────────────┘            │ │
│                                                └────────────────────────────┘ │
│                                                                                │
└────────────────────────────────────────────────────────────────────────────────┘

Components:
• DataSync Agent: Installed on-premises or use Snowcone
• TLS encryption: Secure data in transit
• DataSync Service: Orchestrates the transfer
• Multiple target options: S3 (all classes), EFS, FSx

================================================================================
SLIDE 24: AWS DATASYNC - TRANSFER BETWEEN AWS STORAGE SERVICES
================================================================================

AWS to AWS Transfer:
--------------------
┌────────────────────────────────────────────────────────────────────────────────┐
│                                                                                │
│     SOURCE                                              DESTINATION            │
│                                                                                │
│  ┌─────────────────┐                               ┌─────────────────┐        │
│  │ Amazon S3       │                               │ Amazon S3       │        │
│  │                 │                               │                 │        │
│  └─────────────────┘                               └─────────────────┘        │
│                        ┌───────────────────────┐                              │
│  ┌─────────────────┐   │                       │   ┌─────────────────┐        │
│  │ Amazon EFS      │◀─▶│    AWS DataSync       │◀─▶│ Amazon EFS      │        │
│  │                 │   │                       │   │                 │        │
│  └─────────────────┘   │  copy data and        │   └─────────────────┘        │
│                        │  metadata between     │                              │
│  ┌─────────────────┐   │  AWS Storage Services │   ┌─────────────────┐        │
│  │ Amazon FSx      │   │                       │   │ Amazon FSx      │        │
│  │                 │   └───────────────────────┘   │                 │        │
│  └─────────────────┘                               └─────────────────┘        │
│                                                                                │
└────────────────────────────────────────────────────────────────────────────────┘

Use Cases:
• Cross-region replication
• Cross-account data transfer
• Storage service migration (e.g., EFS to FSx)
• Data consolidation
• Backup and disaster recovery

Key Features:
• No agent required for AWS-to-AWS transfers
• Preserves metadata and permissions
• Scheduled or one-time transfers
• Bandwidth throttling available

================================================================================
SLIDE 25: STORAGE COMPARISON
================================================================================

Quick Reference Guide:
----------------------
┌─────────────────────────┬───────────────────────────────────────────────────────┐
│ Service                 │ Description / Use Case                                │
├─────────────────────────┼───────────────────────────────────────────────────────┤
│ S3                      │ Object Storage                                        │
├─────────────────────────┼───────────────────────────────────────────────────────┤
│ S3 Glacier              │ Object Archival                                       │
├─────────────────────────┼───────────────────────────────────────────────────────┤
│ EBS volumes             │ Network storage for one EC2 instance at a time        │
├─────────────────────────┼───────────────────────────────────────────────────────┤
│ Instance Storage        │ Physical storage for your EC2 instance (high IOPS)    │
├─────────────────────────┼───────────────────────────────────────────────────────┤
│ EFS                     │ Network File System for Linux instances, POSIX        │
│                         │ filesystem                                            │
├─────────────────────────┼───────────────────────────────────────────────────────┤
│ FSx for Windows         │ Network File System for Windows servers               │
├─────────────────────────┼───────────────────────────────────────────────────────┤
│ FSx for Lustre          │ High Performance Computing Linux file system          │
├─────────────────────────┼───────────────────────────────────────────────────────┤
│ FSx for NetApp ONTAP    │ High OS Compatibility (NFS, SMB, iSCSI)              │
├─────────────────────────┼───────────────────────────────────────────────────────┤
│ FSx for OpenZFS         │ Managed ZFS file system                               │
├─────────────────────────┼───────────────────────────────────────────────────────┤
│ Storage Gateway         │ S3 & FSx File Gateway, Volume Gateway (cache &        │
│                         │ stored), Tape Gateway                                 │
├─────────────────────────┼───────────────────────────────────────────────────────┤
│ Transfer Family         │ FTP, FTPS, SFTP interface on top of Amazon S3 or     │
│                         │ Amazon EFS                                            │
├─────────────────────────┼───────────────────────────────────────────────────────┤
│ DataSync                │ Schedule data sync from on-premises to AWS, or        │
│                         │ AWS to AWS                                            │
├─────────────────────────┼───────────────────────────────────────────────────────┤
│ Snowcone/Snowball/      │ To move large amount of data to the cloud,           │
│ Snowmobile              │ physically                                            │
├─────────────────────────┼───────────────────────────────────────────────────────┤
│ Database                │ For specific workloads, usually with indexing and     │
│                         │ querying                                              │
└─────────────────────────┴───────────────────────────────────────────────────────┘

Decision Tree:
--------------
1. Need object storage? → S3, S3 Glacier
2. Need block storage for EC2? → EBS, Instance Store
3. Need shared file system for Linux? → EFS, FSx for Lustre
4. Need shared file system for Windows? → FSx for Windows
5. Need hybrid cloud bridge? → Storage Gateway
6. Need FTP access to S3/EFS? → Transfer Family
7. Need to sync data between on-prem and AWS? → DataSync
8. Need to move petabytes physically? → Snow Family

================================================================================
                           END OF GUIDE
================================================================================

Summary:
--------
This guide covered AWS Storage Extras including:
• AWS Snowball - Physical data migration devices
• Amazon FSx - Managed third-party file systems
• AWS Storage Gateway - Hybrid cloud storage bridge
• AWS Transfer Family - Managed FTP/SFTP services
• AWS DataSync - Automated data synchronization

These services complement the core AWS storage offerings (S3, EBS, EFS) to 
provide comprehensive solutions for any storage requirement.

